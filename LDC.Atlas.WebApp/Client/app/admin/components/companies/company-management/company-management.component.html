<mat-sidenav-container>
    <mat-sidenav-content>
        <form [formGroup]="companyConfigurationFormGroup">
            <atlas-header-form #companyConfigurationHeader></atlas-header-form>
            <atlas-company-menu-bar *ngIf="isMenuBarVisible"
                                    #companyManagementMenuBarComponent>
            </atlas-company-menu-bar>
            <atlas-floating-action-button *ngIf="!sideNavState"
                                          [fabTitle]="fabTitle"
                                          [fabType]="fabType"
                                          [fabActions]="fabMenuActions"
                                          [isParentLoaded]="!isLoading"
                                          [fabActionsDisabled]="isSaveInProgress"
                                          (fabActionClicked)="onFabActionClicked($event)">
            </atlas-floating-action-button>

            <div class="main-container">
                <div *ngIf="isSaveInProgress">
                    <mat-card>
                        <h2>Loading</h2>
                        <div class="custom-line-title"></div>
                        <div fxLayout="row"
                             fxLayoutAlign="center center"
                             fxLayoutWrap
                             fxLayoutGap="20px">
                            <mat-spinner color="accent"></mat-spinner>
                        </div>
                    </mat-card>
                </div>
                <main>
                    <mat-tab-group dynamicHeight
                                   (selectedTabChange)="getPosition($event)"
                                   [(selectedIndex)]=selectedTab
                                   class="bright-tab">
                        <mat-tab label="MAIN">
                            <atlas-company-management-main-tab #companyManagementMainTabComponent>
                            </atlas-company-management-main-tab>
                        </mat-tab>
                        <mat-tab label="PHYSICALS">
                            <atlas-physicals-tab #physicalsTabComponent
                                                 (isSideNavOpened)="isSideNavOpened($event)">
                            </atlas-physicals-tab>
                        </mat-tab>
                        <mat-tab label="INVOICING">
                            <atlas-invoice-tab #invoiceTabComponent>
                            </atlas-invoice-tab>
                        </mat-tab>
                        <mat-tab label="TAX">
                            <atlas-tax-tab #taxTabComponent>
                            </atlas-tax-tab>
                        </mat-tab>
                        <mat-tab label="ACCOUNTING">
                            <atlas-accounting-tab #accountingTabComponent
                                                  (isSideNavOpened)="isSideNavOpened($event)">
                            </atlas-accounting-tab>
                        </mat-tab>
                        <mat-tab label="IT PARAMETERS">
                            <atlas-itparameters-tab #itparametersTabComponent>
                            </atlas-itparameters-tab>
                        </mat-tab>
                        <mat-tab label="INTERFACES">
                            <atlas-interface-tab #interfaceTabComponent
                                                 (isSideNavOpened)="isSideNavOpened($event)">
                            </atlas-interface-tab>
                        </mat-tab>
                    </mat-tab-group>
                </main>
            </div>
        </form>
    </mat-sidenav-content>
</mat-sidenav-container>
